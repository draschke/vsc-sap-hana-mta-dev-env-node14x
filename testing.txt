
check global npms 
npm list -g --depth=0

$ yo
May we anonymously report usage statistics to improve the tool over time? 
-->  No 
Easy Ui5 
  generator-ui5-project https://github.com/ui5-community/generator-ui5-project/
   What do you want to do? Create a new OpenUI5/SAPUI5 project

   com.myorg.myUI5App
   com.myorg.myUI5App/db

   yo @sap/base-mta-module --mtaFilePath=/workspaces/com.myorg.myUI5App/db.yaml --defaultName=ui5

   Wizard (F1)
   Open Template Wizard
- creates a HDB module

https://code.visualstudio.com/docs/containers/choosing-dev-environment#_development-container
   RUN  && apt-get update -y \
    &&  apt-transport-https \
    && ca-certificates \
    && curl \
    && gnupg \
    && lsb-release \
    && apt-get install -y docker-ce-cli \
    && apt-get install -y python python-pip \
    && pip install docker-compose \    
    
    && curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg \


     echo \
  "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

$ sudo -i
root ➜ ~ $ su node
node

  generator-ui5-project https://github.com/ui5-community/generator-ui5-project/
npm start

https://github.com/yongzhihuang/PentaCode/blob/7498ce9a1e8b943bf77e9472b7ba5be5390ce599/staticBoilerplateWithNPM/package.json#L6

  "scripts": {
    "build-css": "node-sass --include-path scss scss/main.scss build/css/style.min.css",
    "build-js": "browserify js/**.js > build/js/script.min.js",
    "build": "npm run build-css && npm run build-js",
    "server": "cd build && python -m SimpleHTTPServer 8000",
    "start": "nodemon -e js,scss -x \"npm run build && npm run server\" --ignore build/"
  },


    sudo apt-get update

    sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

    curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg


    echo   "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \
$(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt-get update

sudo apt-get -y install docker-ce docker-ce-cli containerd.io

nvm install --lts --latest-npm --> dont use it 



node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) $ npm list -g --depth=0
/usr/local/share/npm-global/lib
├── @sap/cds-dk@4.4.1
├── @sap/generator-base-mta-module@1.3.7
├── @sap/generator-fiori@1.3.0
├── eslint@7.32.0
├── generator-easy-ui5@3.0.1
├── mta@1.0.1
├── typescript@4.3.5
└── yo@4.3.0



https://sap-samples.github.io/cloud-cap-risk-management/Kyma/

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cloud-cap-risk-management (cap/freestyle-ui5-app ✗) 
$ docker build -t cloud-cap-risk-management .

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cloud-cap-risk-management (cap/freestyle-ui5-app ✗) 
$ docker images | grep cloud-cap-risk-managementcloud-cap-risk-management                                                               latest                                                  77b036539c47        2 minutes ago       206MB                                                             latest                                                  77b036539c47        2 minutes ago       206MB

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cloud-cap-risk-management (cap/freestyle-ui5-app ✗) $ docker run -i -t 77b036539c47 /bin/bash 
node@a0af5ea87745:/usr/src/app$ 

cds build

VS Code Extension --> Run Interactive
VS Code Containers --> Attach Shell

docker run -p 4004:4004 -t cpapp

/usr/local/bin/kubectl
~/.kube/config

find your directory
node ➜ /home/diraschk/.kube $ find / -type d -name kube-devcontainer 2>/dev/null
/usr/local/share/kube-devcontainer


node ➜ /usr/local/share/kube-devcontainer $ ls -la
drwxr-x--- 4 node node 4096 May 24 19:00 cache
-rw-r--r-- 1 node node 5560 Jun 14 06:03 config
drwxr-xr-x 2 node node 4096 Aug 10 08:08 test

Deploy to Kyma
Choose Get Kubeconfig from the dropdown menu.
\\wsl$\Ubuntu-20.04\home\diraschk\.kube\kubeconfig.yml

Set the new config file for the running shell process:
export KUBECONFIG=/usr/local/share/kube-devcontainer/kubeconfig

cf login -a https://api.cf.eu10.hana.ondemand.com -u dirk.raschke@charite.de -p  --skip-ssl-validation

node ➜ /usr/local/share/kube-devcontainer $ cat /usr/local/share/kube-devcontainer/kubeconfig.yml

node ➜ ~ $ export KUBECONFIG=/usr/local/share/kube-localhost/kubeconfig.yml
node ➜ ~ $ kubectl get pods
No resources found in default namespace.

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) $ kubectl get namespaces
NAME               STATUS   AGE
compass-system     Active   7d23h
default            Active   7d23h
istio-system       Active   7d23h
kube-node-lease    Active   7d23h
kube-public        Active   7d23h
kube-system        Active   7d23h
kyma-installer     Active   7d23h
kyma-integration   Active   7d23h
kyma-system        Active   7d23h

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) 
$ helm repo add stable https://charts.helm.sh/stable
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /usr/local/share/kube-devcontainer/kubeconfig.yml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /usr/local/share/kube-devcontainer/kubeconfig.yml
"stable" has been added to your repositories

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) 
$ helm install docker-registry stable/docker-registry
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /usr/local/share/kube-devcontainer/kubeconfig.yml
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /usr/local/share/kube-devcontainer/kubeconfig.yml
WARNING: This chart is deprecated
NAME: docker-registry
LAST DEPLOYED: Tue Aug 10 10:51:14 2021
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
1. Get the application URL by running these commands:
  export POD_NAME=$(kubectl get pods --namespace default -l "app=docker-registry,release=docker-registry" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl -n default port-forward $POD_NAME 8080:5000

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) $ kubectl apply -f - <<EOF
> apiVersion: gateway.kyma-project.io/v1alpha1
> kind: APIRule
> metadata:
>   labels:
>     app: docker-registry
>   name: docker-registry
> spec:
>   service:
>     host: docker-registry
>     name: docker-registry
>     port: 5000
>   gateway: kyma-gateway.kyma-system.svc.cluster.local
>   rules:
>     - path: /.*
>       methods: ["GET", "HEAD" ]
>       accessStrategies:
>         - handler: noop
>       mutators: []
> EOF
apirule.gateway.kyma-project.io/docker-registry created  

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) $ cf a
Getting apps in org 71bdfe8btrial / space dev as dirk.raschke@charite.de...
OK

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) 
$ kubectl port-forward deployment/docker-registry 5000:5000 &
--> [1] 1593
node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) 
$ Forwarding from 127.0.0.1:5000 -> 5000

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x (main ✗) 
$ docker tag cloud-cap-risk-management 0.0.0.0:5000/cloud-cap-risk-management

Inspect your image
    "RepoTags": [
        "0.0.0.0:5000/cloud-cap-risk-management:latest",
        "cloud-cap-risk-management:latest"
    ],

    docker push 0.0.0.0:5000/cloud-cap-risk-management

https://stackoverflow.com/questions/51468491/how-kubectl-port-forward-works

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app (main ✗) 
$ Forwarding from 127.0.0.1:5000 -> 5000

Forwarding from [::1]:5000 -> 5000 --> miss this line